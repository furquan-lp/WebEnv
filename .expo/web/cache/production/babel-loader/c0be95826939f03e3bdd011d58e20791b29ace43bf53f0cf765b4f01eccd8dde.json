{"ast":null,"code":"var __extends=this&&this.__extends||function(){var _extendStatics=function extendStatics(d,b){_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics(d,b);};return function(d,b){_extendStatics(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s){if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p];}}return t;};return __assign.apply(this,arguments);};import React from\"react\";import View from\"react-native-web/dist/exports/View\";import{Defs,G,LinearGradient,Rect,Stop,Svg,Text}from\"react-native-svg\";import AbstractChart from\"./AbstractChart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var barWidth=32;var BarChart=function(_super){__extends(BarChart,_super);function BarChart(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.getBarPercentage=function(){var _a=_this.props.chartConfig.barPercentage,barPercentage=_a===void 0?1:_a;return barPercentage;};_this.renderBars=function(_a){var data=_a.data,width=_a.width,height=_a.height,paddingTop=_a.paddingTop,paddingRight=_a.paddingRight,barRadius=_a.barRadius,withCustomBarColorFromData=_a.withCustomBarColorFromData;var baseHeight=_this.calcBaseHeight(data,height);return data.map(function(x,i){var barHeight=_this.calcHeight(x,data,height);var barWidth=32*_this.getBarPercentage();return _jsx(Rect,{x:paddingRight+i*(width-paddingRight)/data.length+barWidth/2,y:(barHeight>0?baseHeight-barHeight:baseHeight)/4*3+paddingTop,rx:barRadius,width:barWidth,height:Math.abs(barHeight)/4*3,fill:withCustomBarColorFromData?\"url(#customColor_0_\"+i+\")\":\"url(#fillShadowGradientFrom)\"},Math.random());});};_this.renderBarTops=function(_a){var data=_a.data,width=_a.width,height=_a.height,paddingTop=_a.paddingTop,paddingRight=_a.paddingRight;var baseHeight=_this.calcBaseHeight(data,height);return data.map(function(x,i){var barHeight=_this.calcHeight(x,data,height);var barWidth=32*_this.getBarPercentage();return _jsx(Rect,{x:paddingRight+i*(width-paddingRight)/data.length+barWidth/2,y:(baseHeight-barHeight)/4*3+paddingTop,width:barWidth,height:2,fill:_this.props.chartConfig.color(0.6)},Math.random());});};_this.renderColors=function(_a){var data=_a.data,flatColor=_a.flatColor;return data.map(function(dataset,index){var _a,_b;return _jsx(Defs,{children:(_b=dataset.colors)===null||_b===void 0?void 0:_b.map(function(color,colorIndex){var highOpacityColor=color(1.0);var lowOpacityColor=color(0.1);return _jsxs(LinearGradient,{id:\"customColor_\"+index+\"_\"+colorIndex,x1:0,y1:0,x2:0,y2:1,children:[_jsx(Stop,{offset:\"0\",stopColor:highOpacityColor,stopOpacity:\"1\"}),flatColor?_jsx(Stop,{offset:\"1\",stopColor:highOpacityColor,stopOpacity:\"1\"}):_jsx(Stop,{offset:\"1\",stopColor:lowOpacityColor,stopOpacity:\"0\"})]},index+\"_\"+colorIndex);})},(_a=dataset.key)!==null&&_a!==void 0?_a:index);});};_this.renderValuesOnTopOfBars=function(_a){var data=_a.data,width=_a.width,height=_a.height,paddingTop=_a.paddingTop,paddingRight=_a.paddingRight;var baseHeight=_this.calcBaseHeight(data,height);var renderLabel=function renderLabel(value){if(_this.props.chartConfig.formatTopBarValue){return _this.props.chartConfig.formatTopBarValue(value);}else{return value;}};return data.map(function(x,i){var barHeight=_this.calcHeight(x,data,height);var barWidth=32*_this.getBarPercentage();return _jsx(Text,{x:paddingRight+i*(width-paddingRight)/data.length+barWidth/1,y:(baseHeight-barHeight)/4*3+paddingTop-1,fill:_this.props.chartConfig.color(0.6),fontSize:\"12\",textAnchor:\"middle\",children:renderLabel(data[i])},Math.random());});};return _this;}BarChart.prototype.render=function(){var _a;var _b=this.props,width=_b.width,height=_b.height,data=_b.data,_c=_b.style,style=_c===void 0?{}:_c,_d=_b.withHorizontalLabels,withHorizontalLabels=_d===void 0?true:_d,_e=_b.withVerticalLabels,withVerticalLabels=_e===void 0?true:_e,_f=_b.verticalLabelRotation,verticalLabelRotation=_f===void 0?0:_f,_g=_b.horizontalLabelRotation,horizontalLabelRotation=_g===void 0?0:_g,_h=_b.withInnerLines,withInnerLines=_h===void 0?true:_h,_j=_b.showBarTops,showBarTops=_j===void 0?true:_j,_k=_b.withCustomBarColorFromData,withCustomBarColorFromData=_k===void 0?false:_k,_l=_b.showValuesOnTopOfBars,showValuesOnTopOfBars=_l===void 0?false:_l,_m=_b.flatColor,flatColor=_m===void 0?false:_m,_o=_b.segments,segments=_o===void 0?4:_o;var _p=style.borderRadius,borderRadius=_p===void 0?0:_p,_q=style.paddingTop,paddingTop=_q===void 0?16:_q,_r=style.paddingRight,paddingRight=_r===void 0?64:_r;var config={width:width,height:height,verticalLabelRotation:verticalLabelRotation,horizontalLabelRotation:horizontalLabelRotation,barRadius:this.props.chartConfig&&this.props.chartConfig.barRadius||0,decimalPlaces:(_a=this.props.chartConfig&&this.props.chartConfig.decimalPlaces)!==null&&_a!==void 0?_a:2,formatYLabel:this.props.chartConfig&&this.props.chartConfig.formatYLabel||function(label){return label;},formatXLabel:this.props.chartConfig&&this.props.chartConfig.formatXLabel||function(label){return label;}};return _jsx(View,{style:style,children:_jsxs(Svg,{height:height,width:width,children:[this.renderDefs(__assign(__assign({},config),this.props.chartConfig)),this.renderColors(__assign(__assign({},this.props.chartConfig),{flatColor:flatColor,data:this.props.data.datasets})),_jsx(Rect,{width:\"100%\",height:height,rx:borderRadius,ry:borderRadius,fill:\"url(#backgroundGradient)\"}),_jsx(G,{children:withInnerLines?this.renderHorizontalLines(__assign(__assign({},config),{count:segments,paddingTop:paddingTop})):null}),_jsx(G,{children:withHorizontalLabels?this.renderHorizontalLabels(__assign(__assign({},config),{count:segments,data:data.datasets[0].data,paddingTop:paddingTop,paddingRight:paddingRight})):null}),_jsx(G,{children:withVerticalLabels?this.renderVerticalLabels(__assign(__assign({},config),{labels:data.labels,paddingRight:paddingRight,paddingTop:paddingTop,horizontalOffset:barWidth*this.getBarPercentage()})):null}),_jsx(G,{children:this.renderBars(__assign(__assign({},config),{data:data.datasets[0].data,paddingTop:paddingTop,paddingRight:paddingRight,withCustomBarColorFromData:withCustomBarColorFromData}))}),_jsx(G,{children:showValuesOnTopOfBars&&this.renderValuesOnTopOfBars(__assign(__assign({},config),{data:data.datasets[0].data,paddingTop:paddingTop,paddingRight:paddingRight}))}),_jsx(G,{children:showBarTops&&this.renderBarTops(__assign(__assign({},config),{data:data.datasets[0].data,paddingTop:paddingTop,paddingRight:paddingRight}))})]})});};return BarChart;}(AbstractChart);export default BarChart;","map":{"version":3,"mappings":"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","names":["React","Defs","G","LinearGradient","Rect","Stop","Svg","Text","AbstractChart","barWidth","__extends","_this","props","chartConfig","barPercentage","_a","data","width","height","paddingTop","paddingRight","barRadius","withCustomBarColorFromData","baseHeight","calcBaseHeight","map","x","i","barHeight","calcHeight","getBarPercentage","length","Math","abs","random","color","flatColor","dataset","index","colors","colorIndex","highOpacityColor","lowOpacityColor","key","renderLabel","value","formatTopBarValue","BarChart","_c","style","_d","withHorizontalLabels","_e","withVerticalLabels","_f","verticalLabelRotation","_g","horizontalLabelRotation","_h","withInnerLines","_j","showBarTops","_k","_l","showValuesOnTopOfBars","_m","_o","segments","borderRadius","_q","_r","config","decimalPlaces","formatYLabel","label","formatXLabel","renderDefs","renderColors","datasets","renderHorizontalLines","count","renderHorizontalLabels","renderVerticalLabels","labels","horizontalOffset","renderBars","renderValuesOnTopOfBars","renderBarTops"],"sources":["/home/syed-f/Code/envmon-web/WebEnv/node_modules/react-native-chart-kit/src/BarChart.tsx"],"sourcesContent":["import React from \"react\";\nimport { View, ViewStyle } from \"react-native\";\nimport {\n  Defs,\n  G,\n  LinearGradient,\n  Rect,\n  Stop,\n  Svg,\n  Text\n} from \"react-native-svg\";\n\nimport AbstractChart, {\n  AbstractChartConfig,\n  AbstractChartProps\n} from \"./AbstractChart\";\nimport { ChartData } from \"./HelperTypes\";\n\nconst barWidth = 32;\n\nexport interface BarChartProps extends AbstractChartProps {\n  data: ChartData;\n  width: number;\n  height: number;\n  fromZero?: boolean;\n  withInnerLines?: boolean;\n  yAxisLabel: string;\n  yAxisSuffix: string;\n  chartConfig: AbstractChartConfig;\n  style?: Partial<ViewStyle>;\n  horizontalLabelRotation?: number;\n  verticalLabelRotation?: number;\n  /**\n   * Show vertical labels - default: True.\n   */\n  withVerticalLabels?: boolean;\n  /**\n   * Show horizontal labels - default: True.\n   */\n  withHorizontalLabels?: boolean;\n  /**\n   * The number of horizontal lines\n   */\n  segments?: number;\n  showBarTops?: boolean;\n  showValuesOnTopOfBars?: boolean;\n  withCustomBarColorFromData?: boolean;\n  flatColor?: boolean;\n  \n}\n\ntype BarChartState = {};\n\nclass BarChart extends AbstractChart<BarChartProps, BarChartState> {\n  getBarPercentage = () => {\n    const { barPercentage = 1 } = this.props.chartConfig;\n    return barPercentage;\n  };\n\n  renderBars = ({\n    data,\n    width,\n    height,\n    paddingTop,\n    paddingRight,\n    barRadius,\n    withCustomBarColorFromData\n  }: Pick<\n    Omit<AbstractChartConfig, \"data\">,\n    \"width\" | \"height\" | \"paddingRight\" | \"paddingTop\" | \"barRadius\"\n  > & {\n    data: number[];\n    withCustomBarColorFromData: boolean;\n  }) => {\n    const baseHeight = this.calcBaseHeight(data, height);\n\n    return data.map((x, i) => {\n      const barHeight = this.calcHeight(x, data, height);\n      const barWidth = 32 * this.getBarPercentage();\n      return (\n        <Rect\n          key={Math.random()}\n          x={\n            paddingRight +\n            (i * (width - paddingRight)) / data.length +\n            barWidth / 2\n          }\n          y={\n            ((barHeight > 0 ? baseHeight - barHeight : baseHeight) / 4) * 3 +\n            paddingTop\n          }\n          rx={barRadius}\n          width={barWidth}\n          height={(Math.abs(barHeight) / 4) * 3}\n          fill={\n            withCustomBarColorFromData\n              ? `url(#customColor_0_${i})`\n              : \"url(#fillShadowGradientFrom)\"\n          }\n        />\n      );\n    });\n  };\n\n  renderBarTops = ({\n    data,\n    width,\n    height,\n    paddingTop,\n    paddingRight\n  }: Pick<\n    Omit<AbstractChartConfig, \"data\">,\n    \"width\" | \"height\" | \"paddingRight\" | \"paddingTop\"\n  > & {\n    data: number[];\n  }) => {\n    const baseHeight = this.calcBaseHeight(data, height);\n\n    return data.map((x, i) => {\n      const barHeight = this.calcHeight(x, data, height);\n      const barWidth = 32 * this.getBarPercentage();\n      return (\n        <Rect\n          key={Math.random()}\n          x={\n            paddingRight +\n            (i * (width - paddingRight)) / data.length +\n            barWidth / 2\n          }\n          y={((baseHeight - barHeight) / 4) * 3 + paddingTop}\n          width={barWidth}\n          height={2}\n          fill={this.props.chartConfig.color(0.6)}\n        />\n      );\n    });\n  };\n\n  renderColors = ({\n    data,\n    flatColor\n  }: Pick<AbstractChartConfig, \"data\"> & {\n    flatColor: boolean;\n  }) => {\n    return data.map((dataset, index) => (\n      <Defs key={dataset.key ?? index}>\n        {dataset.colors?.map((color, colorIndex) => {\n          const highOpacityColor = color(1.0);\n          const lowOpacityColor = color(0.1);\n\n          return (\n            <LinearGradient\n              id={`customColor_${index}_${colorIndex}`}\n              key={`${index}_${colorIndex}`}\n              x1={0}\n              y1={0}\n              x2={0}\n              y2={1}\n            >\n              <Stop offset=\"0\" stopColor={highOpacityColor} stopOpacity=\"1\" />\n              {flatColor ? (\n                <Stop offset=\"1\" stopColor={highOpacityColor} stopOpacity=\"1\" />\n              ) : (\n                  <Stop offset=\"1\" stopColor={lowOpacityColor} stopOpacity=\"0\" />\n                )}\n            </LinearGradient>\n          );\n        })}\n      </Defs>\n    ));\n  };\n\n  renderValuesOnTopOfBars = ({\n    data,\n    width,\n    height,\n    paddingTop,\n    paddingRight\n  }: Pick<\n    Omit<AbstractChartConfig, \"data\">,\n    \"width\" | \"height\" | \"paddingRight\" | \"paddingTop\"\n  > & {\n    data: number[];\n  }) => {\n    const baseHeight = this.calcBaseHeight(data, height);\n\n    const renderLabel = (value: number) => {\n      if(this.props.chartConfig.formatTopBarValue) {\n        return this.props.chartConfig.formatTopBarValue(value)\n      }\n      else {\n        return value\n      }\n    }\n    return data.map((x, i) => {\n      const barHeight = this.calcHeight(x, data, height);\n      const barWidth = 32 * this.getBarPercentage();\n      return (\n        <Text\n          key={Math.random()}\n          x={\n            paddingRight +\n            (i * (width - paddingRight)) / data.length +\n            barWidth / 1\n            \n          }\n          y={((baseHeight - barHeight) / 4) * 3 + paddingTop - 1}\n          fill={this.props.chartConfig.color(0.6)}\n          fontSize=\"12\"\n          textAnchor=\"middle\"\n        >\n          {renderLabel(data[i])}\n        </Text>\n      );\n    });\n  };\n\n  render() {\n    const {\n      width,\n      height,\n      data,\n      style = {},\n      withHorizontalLabels = true,\n      withVerticalLabels = true,\n      verticalLabelRotation = 0,\n      horizontalLabelRotation = 0,\n      withInnerLines = true,\n      showBarTops = true,\n      withCustomBarColorFromData = false,\n      showValuesOnTopOfBars = false,\n      flatColor = false,\n      segments = 4\n    } = this.props;\n\n    const { borderRadius = 0, paddingTop = 16, paddingRight = 64 } = style;\n\n    const config = {\n      width,\n      height,\n      verticalLabelRotation,\n      horizontalLabelRotation,\n      barRadius:\n        (this.props.chartConfig && this.props.chartConfig.barRadius) || 0,\n      decimalPlaces:\n        (this.props.chartConfig && this.props.chartConfig.decimalPlaces) ?? 2,\n      formatYLabel:\n        (this.props.chartConfig && this.props.chartConfig.formatYLabel) ||\n        function (label) {\n          return label;\n        },\n      formatXLabel:\n        (this.props.chartConfig && this.props.chartConfig.formatXLabel) ||\n        function (label) {\n          return label;\n        }\n    };\n\n    return (\n      <View style={style}>\n        <Svg height={height} width={width}>\n          {this.renderDefs({\n            ...config,\n            ...this.props.chartConfig\n          })}\n          {this.renderColors({\n            ...this.props.chartConfig,\n            flatColor: flatColor,\n            data: this.props.data.datasets\n          })}\n          <Rect\n            width=\"100%\"\n            height={height}\n            rx={borderRadius}\n            ry={borderRadius}\n            fill=\"url(#backgroundGradient)\"\n          />\n          <G>\n            {withInnerLines\n              ? this.renderHorizontalLines({\n                ...config,\n                count: segments,\n                paddingTop\n              })\n              : null}\n          </G>\n          <G>\n            {withHorizontalLabels\n              ? this.renderHorizontalLabels({\n                ...config,\n                count: segments,\n                data: data.datasets[0].data,\n                paddingTop: paddingTop as number,\n                paddingRight: paddingRight as number\n              })\n              : null}\n          </G>\n          <G>\n            {withVerticalLabels\n              ? this.renderVerticalLabels({\n                ...config,\n                labels: data.labels,\n                paddingRight: paddingRight as number,\n                paddingTop: paddingTop as number,\n                horizontalOffset: barWidth * this.getBarPercentage()\n              })\n              : null}\n          </G>\n          <G>\n            {this.renderBars({\n              ...config,\n              data: data.datasets[0].data,\n              paddingTop: paddingTop as number,\n              paddingRight: paddingRight as number,\n              withCustomBarColorFromData: withCustomBarColorFromData\n            })}\n          </G>\n          <G>\n            {showValuesOnTopOfBars &&\n              this.renderValuesOnTopOfBars({\n                ...config,\n                data: data.datasets[0].data,\n                paddingTop: paddingTop as number,\n                paddingRight: paddingRight as number\n              })}\n          </G>\n          <G>\n            {showBarTops &&\n              this.renderBarTops({\n                ...config,\n                data: data.datasets[0].data,\n                paddingTop: paddingTop as number,\n                paddingRight: paddingRight as number\n              })}\n          </G>\n        </Svg>\n      </View>\n    );\n  }\n}\n\nexport default BarChart;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}