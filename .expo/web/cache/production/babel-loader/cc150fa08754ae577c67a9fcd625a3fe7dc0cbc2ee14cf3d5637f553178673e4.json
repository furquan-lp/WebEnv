{"ast":null,"code":"var __extends=this&&this.__extends||function(){var _extendStatics=function extendStatics(d,b){_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics(d,b);};return function(d,b){_extendStatics(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s){if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p];}}return t;};return __assign.apply(this,arguments);};import Pie from\"paths-js/pie\";import React from\"react\";import View from\"react-native-web/dist/exports/View\";import{G,Path,Rect,Svg,Text}from\"react-native-svg\";import AbstractChart from\"./AbstractChart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PieChart=function(_super){__extends(PieChart,_super);function PieChart(){return _super!==null&&_super.apply(this,arguments)||this;}PieChart.prototype.render=function(){var _this=this;var _a=this.props,_b=_a.style,style=_b===void 0?{}:_b,backgroundColor=_a.backgroundColor,_c=_a.absolute,absolute=_c===void 0?false:_c,_d=_a.hasLegend,hasLegend=_d===void 0?true:_d,_e=_a.avoidFalseZero,avoidFalseZero=_e===void 0?false:_e;var _f=style.borderRadius,borderRadius=_f===void 0?0:_f;var chart=Pie({center:this.props.center||[0,0],r:0,R:this.props.height/2.5,data:this.props.data,accessor:function accessor(x){return x[_this.props.accessor];}});var total=this.props.data.reduce(function(sum,item){return sum+item[_this.props.accessor];},0);var slices=chart.curves.map(function(c,i){var value;if(absolute){value=c.item[_this.props.accessor];}else{if(total===0){value=0+\"%\";}else{var percentage=Math.round(100/total*c.item[_this.props.accessor]);value=Math.round(100/total*c.item[_this.props.accessor])+\"%\";if(avoidFalseZero&&percentage===0){value=\"<1%\";}else{value=percentage+\"%\";}}}return _jsxs(G,{children:[_jsx(Path,{d:c.sector.path.print(),fill:c.item.color}),hasLegend?_jsx(Rect,{width:\"16px\",height:\"16px\",fill:c.item.color,rx:8,ry:8,x:_this.props.width/2.5-24,y:-(_this.props.height/2.5)+_this.props.height*0.8/_this.props.data.length*i+12}):null,hasLegend?_jsx(Text,{fill:c.item.legendFontColor,fontSize:c.item.legendFontSize,fontFamily:c.item.legendFontFamily,x:_this.props.width/2.5,y:-(_this.props.height/2.5)+_this.props.height*0.8/_this.props.data.length*i+12*2,children:value+\" \"+c.item.name}):null]},Math.random());});return _jsx(View,{style:__assign({width:this.props.width,height:this.props.height,padding:0},style),children:_jsxs(Svg,{width:this.props.width,height:this.props.height,children:[_jsx(G,{children:this.renderDefs(__assign({width:this.props.height,height:this.props.height},this.props.chartConfig))}),_jsx(Rect,{width:\"100%\",height:this.props.height,rx:borderRadius,ry:borderRadius,fill:backgroundColor}),_jsx(G,{x:this.props.width/2/2+Number(this.props.paddingLeft?this.props.paddingLeft:0),y:this.props.height/2,children:slices})]})});};return PieChart;}(AbstractChart);export default PieChart;","map":{"version":3,"mappings":"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","names":["Pie","React","G","Path","Rect","Svg","Text","AbstractChart","__extends","PieChart","props","_b","style","backgroundColor","_c","absolute","_d","hasLegend","_e","avoidFalseZero","borderRadius","chart","center","r","R","height","data","accessor","x","_this","total","reduce","sum","item","slices","curves","map","c","i","value","percentage","Math","round","sector","path","print","color","width","length","legendFontColor","legendFontSize","legendFontFamily","name","random","__assign","padding","renderDefs","chartConfig","Number","paddingLeft"],"sources":["/home/syed-f/Code/envmon-web/WebEnv/node_modules/react-native-chart-kit/src/PieChart.tsx"],"sourcesContent":["import Pie from \"paths-js/pie\";\nimport React from \"react\";\nimport { View, ViewStyle } from \"react-native\";\nimport { G, Path, Rect, Svg, Text } from \"react-native-svg\";\n\nimport AbstractChart, { AbstractChartProps } from \"./AbstractChart\";\n\nexport interface PieChartProps extends AbstractChartProps {\n  data: Array<any>;\n  width: number;\n  height: number;\n  accessor: string;\n  backgroundColor: string;\n  paddingLeft: string;\n  center?: Array<number>;\n  absolute?: boolean;\n  hasLegend?: boolean;\n  style?: Partial<ViewStyle>;\n  avoidFalseZero?: boolean;\n}\n\ntype PieChartState = {};\n\nclass PieChart extends AbstractChart<PieChartProps, PieChartState> {\n  render() {\n    const {\n      style = {},\n      backgroundColor,\n      absolute = false,\n      hasLegend = true,\n      avoidFalseZero = false\n    } = this.props;\n\n    const { borderRadius = 0 } = style;\n\n    const chart = Pie({\n      center: this.props.center || [0, 0],\n      r: 0,\n      R: this.props.height / 2.5,\n      data: this.props.data,\n      accessor: x => {\n        return x[this.props.accessor];\n      }\n    });\n\n    const total = this.props.data.reduce((sum, item) => {\n      return sum + item[this.props.accessor];\n    }, 0);\n\n    const slices = chart.curves.map((c, i) => {\n      let value: string;\n\n      if (absolute) {\n        value = c.item[this.props.accessor];\n      } else {\n        if (total === 0) {\n          value = 0 + \"%\";\n        } else {\n          const percentage = Math.round(\n            (100 / total) * c.item[this.props.accessor]\n          );\n          value = Math.round((100 / total) * c.item[this.props.accessor]) + \"%\";\n          if (avoidFalseZero && percentage === 0) {\n            value = \"<1%\";\n          } else {\n            value = percentage + \"%\";\n          }\n        }\n      }\n\n      return (\n        <G key={Math.random()}>\n          <Path d={c.sector.path.print()} fill={c.item.color} />\n          {hasLegend ? (\n            <Rect\n              width=\"16px\"\n              height=\"16px\"\n              fill={c.item.color}\n              rx={8}\n              ry={8}\n              x={this.props.width / 2.5 - 24}\n              y={\n                -(this.props.height / 2.5) +\n                ((this.props.height * 0.8) / this.props.data.length) * i +\n                12\n              }\n            />\n          ) : null}\n          {hasLegend ? (\n            <Text\n              fill={c.item.legendFontColor}\n              fontSize={c.item.legendFontSize}\n              fontFamily={c.item.legendFontFamily}\n              x={this.props.width / 2.5}\n              y={\n                -(this.props.height / 2.5) +\n                ((this.props.height * 0.8) / this.props.data.length) * i +\n                12 * 2\n              }\n            >\n              {`${value} ${c.item.name}`}\n            </Text>\n          ) : null}\n        </G>\n      );\n    });\n\n    return (\n      <View\n        style={{\n          width: this.props.width,\n          height: this.props.height,\n          padding: 0,\n          ...style\n        }}\n      >\n        <Svg width={this.props.width} height={this.props.height}>\n          <G>\n            {this.renderDefs({\n              width: this.props.height,\n              height: this.props.height,\n              ...this.props.chartConfig\n            })}\n          </G>\n          <Rect\n            width=\"100%\"\n            height={this.props.height}\n            rx={borderRadius}\n            ry={borderRadius}\n            fill={backgroundColor}\n          />\n          <G\n            x={\n              this.props.width / 2 / 2 +\n              Number(this.props.paddingLeft ? this.props.paddingLeft : 0)\n            }\n            y={this.props.height / 2}\n          >\n            {slices}\n          </G>\n        </Svg>\n      </View>\n    );\n  }\n}\n\nexport default PieChart;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}