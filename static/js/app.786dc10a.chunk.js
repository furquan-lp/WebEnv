(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{107:function(e,t,n){e.exports=n.p+"static/media/background.91a3a11a.jpg"},162:function(e,t,n){"use strict";var r=n(10),a=n.n(r),i=n(22),o=n.n(i),c=n(0),s=n(3),l=n(83),d=n(65),u=n(5),b=n(15),j=n(78),f=n(34),h=n(71),g=n(222),p=n(164),x="#113f67",m="#38598b",O="#a2a8d3",y="#e7eaf6",v="#5585b5",w="#53a8b6",C="#79c2d0",k="#bbe4e9",R=(u.a.create({centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22},modalView:{margin:20,backgroundColor:y,borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},button:{borderRadius:20,padding:10,elevation:2},buttonOpen:{backgroundColor:C},buttonClose:{backgroundColor:w},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalText:{marginBottom:15,textAlign:"justify"}}),n(12)),S=n(103),T=n.n(S),P=function(e,t){return void 0===t?T.a.get(e).then((function(e){return e.data})):T.a.get(e,{headers:t}).then((function(e){return e.data}))},z="0.9.3-beta.ngrok",I="https://github.com/furquan-lp/WebEnv",L=function(e){P("https://api.jsonbin.io/v3/b/6257c74280883c3054e15f27/latest",{"X-Master-Key":"$2b$10$pWNGBg9x/gcFna2bGzV2DO.97lv6XCoK35tPfs4e.HlgJAdpZ8aC."}).then((function(t){z=t.record.version,I=t.repositoryURL,e(t.record.backendURL)}))},D=function(){return"web"===R.a.OS},W=function(){return z},A=function(){return I},U=n(1),V=u.a.create({container:{height:48,alignSelf:"stretch",flexDirection:"row",backgroundColor:m,alignItems:"center",justifyContent:"space-between",paddingLeft:10,paddingRight:10},title:{flex:1,color:"white",marginLeft:15,fontSize:24,fontFamily:"Righteous_400Regular"}}),B=function(e){var t=e.onPress;return Object(U.jsx)(h.a.Button,{name:"info",backgroundColor:v,iconStyle:{marginLeft:5,marginRight:5},borderRadius:20,size:15,onPress:t})},E=function(e){var t=e.aboutButton,n=Object(g.a)({Righteous_400Regular:p.a});return o()(n,1)[0]?Object(U.jsxs)(s.a,{style:V.container,children:[Object(U.jsx)(f.a,{onPress:function(){return j.a.openURL(A())},children:Object(U.jsx)(h.a,{name:"thermometer",color:k,size:26})}),Object(U.jsx)(b.a,{style:V.title,children:"WebEnv"}),Object(U.jsx)(B,{onPress:t})]}):null},F=n(84),N=u.a.create({centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22},modalView:{margin:20,backgroundColor:y,borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},button:{borderRadius:20,padding:10,elevation:2},buttonOpen:{backgroundColor:C},buttonClose:{backgroundColor:w},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalTitle:{fontSize:D()?20:18,fontWeight:"bold",marginBottom:5},modalText:{fontSize:14,marginBottom:15,textAlign:"justify"}}),G=function(e){var t=e.visible,n=e.setModalVisible,r=e.envBackend;return Object(U.jsx)(s.a,{style:N.centeredView,children:Object(U.jsx)(F.a,{animationType:"slide",transparent:!0,visible:t,onRequestClose:function(){return n(!t)},children:Object(U.jsx)(s.a,{style:N.centeredView,children:Object(U.jsxs)(s.a,{style:N.modalView,children:[Object(U.jsxs)(b.a,{style:N.modalTitle,children:["WebEnv v",W()]}),Object(U.jsxs)(b.a,{style:N.modalText,children:["Running on ",r.name," version ",r.version," backend ","\n","Copyright (C) 2022 Syed Furquan Ahmad. All rights reserved. ","\n"]}),Object(U.jsx)(f.a,{style:[N.button,N.buttonClose],onPress:function(){return n(!t)},children:Object(U.jsx)(b.a,{style:N.textStyle,children:"Ok"})})]})})})})},q=n(108),J=u.a.create({cards:{flex:1,flexDirection:"row",padding:5,marginVertical:10},card:{flex:1,backgroundColor:"rgba(231, 234, 246, 0.5)",borderRadius:10,height:150,alignItems:"center",justifyContent:"center",margin:6,shadowColor:v,shadowOffset:{width:0,height:2},shadowOpacity:1,shadowRadius:4},wrapper:{flexDirection:"row"},unjustified:{justifyContent:"flex-start"},text:{color:x,fontSize:D()?44:34,fontWeight:"bold",margin:0,letterSpacing:1},subtitle:{color:m,fontSize:D()?36:30,alignSelf:"flex-end",margin:5,marginTop:0,letterSpacing:2}}),M=function(e){var t=e.temperature;return Object(U.jsxs)(s.a,{style:J.card,children:[Object(U.jsxs)(s.a,{style:J.wrapper,children:[Object(U.jsx)(q.a,{name:"thermometer",color:v,size:D()?70:50}),Object(U.jsxs)(b.a,{style:J.text,children:[Number(t),"\xb0C"]})]}),Object(U.jsxs)(b.a,{style:J.subtitle,children:[(1.8*t+32).toFixed(2),"\xb0F"]})]})},$=function(e){var t=e.humidity;return Object(U.jsxs)(s.a,{style:[J.card,J.wrapper,J.unjustified],children:[Object(U.jsx)(q.a,{name:"droplet",color:v,size:D()?55:50}),Object(U.jsxs)(b.a,{style:[J.text,{letterSpacing:4}],children:[t,"%"]})]})},H=function(e){var t=e.temperature,n=e.humidity;return Object(U.jsxs)(s.a,{style:J.cards,children:[Object(U.jsx)(M,{temperature:t}),Object(U.jsx)($,{humidity:n})]})},K=n(79),X=u.a.create({container:{flex:1,justifyContent:"center",padding:10}}),_=function(){return Object(U.jsx)(s.a,{style:X.container,children:Object(U.jsx)(K.a,{size:"large",color:w})})},Z=u.a.create({container:{flex:1,alignItems:"center",justifyContent:"space-between",flexDirection:"row",margin:5,marginTop:0},text:{color:y,fontSize:20,letterSpacing:3}}),Q=function(e){var t=e.env;return 0===t.length||void 0===t?Object(U.jsx)(b.a,{style:[Z.container,Z.text],children:"Connecting..."}):Object(U.jsxs)(s.a,{style:Z.container,children:[Object(U.jsx)(b.a,{style:Z.text,children:"Conntected."}),Object(U.jsxs)(b.a,{style:Z.text,children:["Up ",t[0].uptime.hours,":",t[0].uptime.minutes,":",t[0].uptime.seconds]})]})},Y=n(23),ee=n(161),te=function(e){return{labels:e.labels,datasets:[{data:e.data}]}},ne=function(e){var t=e.chartData,n=e.chartType;return Object(U.jsx)(s.a,{style:{marginTop:100,alignItems:"center"},children:Object(U.jsx)(ee.a,{data:te(t),width:D()?470:Y.a.get("window").width-10,height:220,yAxisSuffix:0==n?"\xb0C":"%",yAxisInterval:2,chartConfig:{backgroundColor:m,backgroundGradientFrom:m,backgroundGradientTo:v,backgroundGradientToOpacity:.5,decimalPlaces:1,color:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba(255, 255, 255, "+e+")"},labelColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba(255, 255, 255, "+e+")"},style:{borderRadius:16},propsForDots:{r:"6",strokeWidth:"2",stroke:m}},bezier:!0,style:{marginTop:40,marginBottom:0,borderRadius:16}})})},re=u.a.create({container:{flexDirection:"row",padding:5,justifyContent:"center",marginBottom:10},buttonText:{color:"white",fontSize:25,fontWeight:"bold",textAlign:"center"},button:{flex:1,margin:2,padding:5,alignItems:"center",justifyContent:"center",borderRadius:5},nonPressed:{backgroundColor:w},pressed:{backgroundColor:k},active:{backgroundColor:O}}),ae=function(e){var t=e.chartType,n=e.setChartType,r=function(){n(1^t)};return Object(U.jsxs)(s.a,{style:re.container,children:[Object(U.jsx)(f.a,{onPress:r,disabled:0===t,style:function(e){var n=e.pressed;return[re.button,0===t?re.pressed:re.nonPressed,n?re.active:null]},children:Object(U.jsx)(b.a,{style:re.buttonText,children:"Temperature"})}),Object(U.jsx)(f.a,{onPress:r,disabled:0!==t,style:function(e){var n=e.pressed;return[re.button,0!==t?re.pressed:re.nonPressed,n?re.active:null]},children:Object(U.jsx)(b.a,{style:re.buttonText,children:"Humidity"})})]})},ie=n(52),oe=u.a.create({URLArea:{flex:1,flexDirection:"row",padding:6,height:40,marginVertical:5},URLInput:{flex:4,height:40,padding:5,borderRadius:4,borderWidth:1,borderColor:k,backgroundColor:"white",fontSize:20,fontFamily:"monospace"},button:{flex:1,height:40,alignItems:"center",justifyContent:"center",borderRadius:4,backgroundColor:w},active:{backgroundColor:O}}),ce=function(e){var t=e.URL,n=e.setURL,r=Object(c.useState)(t),a=o()(r,2),i=a[0],l=a[1];return i!==t&&l(t),Object(U.jsxs)(s.a,{style:oe.URLArea,children:[Object(U.jsx)(ie.a,{onChange:function(e){return l(e.target.value)},value:i,style:oe.URLInput,onSubmitEditing:function(){return n(i)},editable:!1}),Object(U.jsx)(f.a,{onPress:function(){return n(i)},style:function(e){var t=e.pressed;return[oe.button,t?oe.active:null]},children:Object(U.jsx)(h.a,{name:"check",color:"white",iconStyle:{marginRight:5,marginLeft:5},size:26})})]})},se=n(107),le=n.n(se);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ue=u.a.create({container:{flex:1},webWrapper:{flex:1,height:720,width:480,alignSelf:"center"},bgImage:{flex:1}}),be=function(e){var t=e.env;return 0===t.length||void 0===t?Object(U.jsx)(_,{}):Object(U.jsx)(H,{temperature:t[0].envdata.temp,humidity:t[0].envdata.humidity})},je=function(){var e=Object(c.useState)(!1),t=o()(e,2),n=t[0],r=t[1],i=Object(c.useState)(0),u=o()(i,2),b=u[0],j=u[1],f=Object(c.useState)([]),h=o()(f,2),g=h[0],p=h[1],m=Object(c.useState)({labels:[-1],data:[0]}),O=o()(m,2),y=O[0],v=O[1],w=Object(c.useState)("http://envmon.local:8888/"),C=o()(w,2),k=C[0],R=C[1];return Object(c.useEffect)((function(){L(R)}),[]),Object(c.useEffect)((function(){setTimeout((function(){P(k).then((function(e){return p(e)}))}),2e3)}),[g]),Object(c.useEffect)((function(){p([])}),[k]),Object(c.useEffect)((function(){if(0!==g.length&&void 0!==g&&!isNaN(g[0].envdata.temp)&&!isNaN(g[0].envdata.humidity)){var e=-1===y.labels[0]?{labels:[],data:[]}:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},y);y.data.length>=5&&(e.data.shift(),e.labels.shift()),e.data.push(Number(0===b?g[0].envdata.temp:g[0].envdata.humidity)),e.labels.push(g[0].uptime.hours+":"+g[0].uptime.minutes+":"+g[0].uptime.seconds),v(e)}}),[g]),Object(c.useEffect)((function(){v({labels:[],data:[]})}),[b]),Object(U.jsx)(d.a,{source:le.a,style:ue.bgImage,children:Object(U.jsxs)(s.a,{style:ue.container,children:[Object(U.jsx)(l.a,{animated:!0,backgroundColor:x,hidden:!1}),Object(U.jsx)(E,{aboutButton:function(){return r(!0)}}),Object(U.jsx)(be,{env:g}),Object(U.jsx)(ne,{chartData:y,chartType:b}),Object(U.jsx)(ae,{chartType:b,setChartType:j}),Object(U.jsx)(ce,{URL:k,setURL:R}),Object(U.jsx)(G,{visible:n,setModalVisible:r,envBackend:void 0!==g[0]?g[0].backend:{name:"unknown",version:"unknown"}}),Object(U.jsx)(Q,{env:g})]})})};t.a=function(){return D()?Object(U.jsx)(d.a,{source:le.a,style:ue.bgImage,blurRadius:10,children:Object(U.jsx)(s.a,{style:ue.webWrapper,children:Object(U.jsx)(je,{})})}):Object(U.jsx)(je,{})}},166:function(e,t,n){e.exports=n(217)}},[[166,1,2]]]);
//# sourceMappingURL=app.786dc10a.chunk.js.map