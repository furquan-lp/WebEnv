(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{107:function(e,t,n){e.exports=n.p+"static/media/background.6ca76324.jpg"},162:function(e,t,n){"use strict";var r=n(10),a=n.n(r),i=n(23),o=n.n(i),c=n(0),s=n(3),l=n(83),d=n(65),u=n(5),b=n(15),j=n(78),h=n(34),f=n(71),g=n(222),p=n(164),x="#113f67",m="#38598b",O="#a2a8d3",y="#e7eaf6",v="#5585b5",w="#53a8b6",C="#79c2d0",k="#bbe4e9",R=(u.a.create({centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22},modalView:{margin:20,backgroundColor:y,borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},button:{borderRadius:20,padding:10,elevation:2},buttonOpen:{backgroundColor:C},buttonClose:{backgroundColor:w},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalText:{marginBottom:15,textAlign:"justify"}}),n(12)),S=n(20),T=n(103),P=n.n(T),z=function(e,t){return void 0===t?P.a.get(e).then((function(e){return e.data})):P.a.get(e,{headers:t}).then((function(e){return e.data}))},I="0.9.4-beta.ngrok",L="https://github.com/furquan-lp/WebEnv",D=function(e){z("https://api.jsonbin.io/v3/b/6257c74280883c3054e15f27/latest",{"X-Master-Key":"$2b$10$pWNGBg9x/gcFna2bGzV2DO.97lv6XCoK35tPfs4e.HlgJAdpZ8aC."}).then((function(t){I=t.record.version,L=t.record.repositoryURL,e(t.record.backendURL)}))},W=function(){return"web"===R.a.OS},A=function(){return S.a.get("window").height>S.a.get("window").width},U=function(){return I},V=function(){return L},B=n(1),E=u.a.create({container:{height:48,alignSelf:"stretch",flexDirection:"row",backgroundColor:m,alignItems:"center",justifyContent:"space-between",paddingLeft:10,paddingRight:10},title:{flex:1,color:"white",marginLeft:15,fontSize:24,fontFamily:"Righteous_400Regular"}}),F=function(e){var t=e.onPress;return Object(B.jsx)(f.a.Button,{name:"info",backgroundColor:v,iconStyle:{marginLeft:5,marginRight:5},borderRadius:20,size:15,onPress:t})},N=function(e){var t=e.aboutButton,n=Object(g.a)({Righteous_400Regular:p.a});return o()(n,1)[0]?Object(B.jsxs)(s.a,{style:E.container,children:[Object(B.jsx)(h.a,{onPress:function(){return j.a.openURL(V())},children:Object(B.jsx)(f.a,{name:"thermometer",color:k,size:26})}),Object(B.jsx)(b.a,{style:E.title,children:"WebEnv"}),Object(B.jsx)(F,{onPress:t})]}):null},G=n(84),q=u.a.create({centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22},modalView:{margin:20,backgroundColor:y,borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},button:{borderRadius:20,padding:10,elevation:2},buttonOpen:{backgroundColor:C},buttonClose:{backgroundColor:w},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalTitle:{fontSize:W()?20:18,fontWeight:"bold",marginBottom:5},modalText:{fontSize:14,marginBottom:15,textAlign:"justify"}}),J=function(e){var t=e.visible,n=e.setModalVisible,r=e.envBackend;return Object(B.jsx)(s.a,{style:q.centeredView,children:Object(B.jsx)(G.a,{animationType:"slide",transparent:!0,visible:t,onRequestClose:function(){return n(!t)},children:Object(B.jsx)(s.a,{style:q.centeredView,children:Object(B.jsxs)(s.a,{style:q.modalView,children:[Object(B.jsxs)(b.a,{style:q.modalTitle,children:["WebEnv v",U()]}),Object(B.jsxs)(b.a,{style:q.modalText,children:["Running on ",r.name," version ",r.version," backend ","\n","Copyright (C) 2022 Syed Furquan Ahmad. All rights reserved. ","\n"]}),Object(B.jsx)(h.a,{style:[q.button,q.buttonClose],onPress:function(){return n(!t)},children:Object(B.jsx)(b.a,{style:q.textStyle,children:"Ok"})})]})})})})},M=n(108),$=u.a.create({cards:{flex:1,flexDirection:"row",padding:5,marginVertical:10},card:{flex:1,backgroundColor:"rgba(231, 234, 246, 0.5)",borderRadius:10,height:150,alignItems:"center",justifyContent:"center",margin:6,shadowColor:v,shadowOffset:{width:0,height:2},shadowOpacity:1,shadowRadius:4},wrapper:{flexDirection:"row"},unjustified:{justifyContent:"flex-start"},text:{color:x,fontSize:W()?44:34,fontWeight:"bold",margin:0,letterSpacing:1},subtitle:{color:m,fontSize:W()?36:30,alignSelf:"flex-end",margin:5,marginTop:0,letterSpacing:2}}),H=function(e){var t=e.temperature;return Object(B.jsxs)(s.a,{style:$.card,children:[Object(B.jsxs)(s.a,{style:$.wrapper,children:[Object(B.jsx)(M.a,{name:"thermometer",color:v,size:W()?70:50}),Object(B.jsxs)(b.a,{style:$.text,children:[Number(t),"\xb0C"]})]}),Object(B.jsxs)(b.a,{style:$.subtitle,children:[(1.8*t+32).toFixed(2),"\xb0F"]})]})},K=function(e){var t=e.humidity;return Object(B.jsxs)(s.a,{style:[$.card,$.wrapper,$.unjustified],children:[Object(B.jsx)(M.a,{name:"droplet",color:v,size:W()?55:50}),Object(B.jsxs)(b.a,{style:[$.text,{letterSpacing:4}],children:[t,"%"]})]})},X=function(e){var t=e.temperature,n=e.humidity;return Object(B.jsxs)(s.a,{style:$.cards,children:[Object(B.jsx)(H,{temperature:t}),Object(B.jsx)(K,{humidity:n})]})},_=n(79),Z=u.a.create({container:{flex:1,justifyContent:"center",padding:10}}),Q=function(){return Object(B.jsx)(s.a,{style:Z.container,children:Object(B.jsx)(_.a,{size:"large",color:w})})},Y=u.a.create({container:{flex:1,alignItems:"center",justifyContent:"space-between",flexDirection:"row",margin:5,marginTop:0},text:{color:y,fontSize:20,letterSpacing:3}}),ee=function(e){var t=e.env;return 0===t.length||void 0===t?Object(B.jsx)(b.a,{style:[Y.container,Y.text],children:"Connecting..."}):Object(B.jsxs)(s.a,{style:Y.container,children:[Object(B.jsx)(b.a,{style:Y.text,children:"Conntected."}),Object(B.jsxs)(b.a,{style:Y.text,children:["Up ",t[0].uptime.hours,":",t[0].uptime.minutes,":",t[0].uptime.seconds]})]})},te=n(161),ne=function(e){return{labels:e.labels,datasets:[{data:e.data}]}},re=function(e){var t=e.chartData,n=e.chartType;return Object(B.jsx)(s.a,{style:{marginTop:100,alignItems:"center"},children:Object(B.jsx)(te.a,{data:ne(t),width:W()?470:S.a.get("window").width-10,height:220,yAxisSuffix:0==n?"\xb0C":"%",yAxisInterval:2,chartConfig:{backgroundColor:m,backgroundGradientFrom:m,backgroundGradientTo:v,backgroundGradientToOpacity:.5,decimalPlaces:1,color:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba(255, 255, 255, "+e+")"},labelColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba(255, 255, 255, "+e+")"},style:{borderRadius:16},propsForDots:{r:"6",strokeWidth:"2",stroke:m}},bezier:!0,style:{marginTop:40,marginBottom:0,borderRadius:16}})})},ae=u.a.create({container:{flexDirection:"row",padding:5,justifyContent:"center",marginBottom:10},buttonText:{color:"white",fontSize:25,fontWeight:"bold",textAlign:"center"},button:{flex:1,margin:2,padding:5,alignItems:"center",justifyContent:"center",borderRadius:5},nonPressed:{backgroundColor:w},pressed:{backgroundColor:k},active:{backgroundColor:O}}),ie=function(e){var t=e.chartType,n=e.setChartType,r=function(){n(1^t)};return Object(B.jsxs)(s.a,{style:ae.container,children:[Object(B.jsx)(h.a,{onPress:r,disabled:0===t,style:function(e){var n=e.pressed;return[ae.button,0===t?ae.pressed:ae.nonPressed,n?ae.active:null]},children:Object(B.jsx)(b.a,{style:ae.buttonText,children:"Temperature"})}),Object(B.jsx)(h.a,{onPress:r,disabled:0!==t,style:function(e){var n=e.pressed;return[ae.button,0!==t?ae.pressed:ae.nonPressed,n?ae.active:null]},children:Object(B.jsx)(b.a,{style:ae.buttonText,children:"Humidity"})})]})},oe=n(52),ce=u.a.create({URLArea:{flex:1,flexDirection:"row",padding:6,height:40,marginVertical:5},URLInput:{flex:4,height:40,padding:5,borderRadius:4,borderWidth:1,borderColor:k,backgroundColor:"white",fontSize:20,fontFamily:"monospace"},button:{flex:1,height:40,alignItems:"center",justifyContent:"center",borderRadius:4,backgroundColor:w},active:{backgroundColor:O}}),se=function(e){var t=e.URL,n=e.setURL,r=Object(c.useState)(t),a=o()(r,2),i=a[0],l=a[1];return i!==t&&l(t),Object(B.jsxs)(s.a,{style:ce.URLArea,children:[Object(B.jsx)(oe.a,{onChange:function(e){return l(e.target.value)},value:i,style:ce.URLInput,onSubmitEditing:function(){return n(i)},editable:!1}),Object(B.jsx)(h.a,{onPress:function(){return n(i)},style:function(e){var t=e.pressed;return[ce.button,t?ce.active:null]},children:Object(B.jsx)(f.a,{name:"check",color:"white",iconStyle:{marginRight:5,marginLeft:5},size:26})})]})},le=n(107),de=n.n(le);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var be=u.a.create({container:{flex:1},webWrapper:{flex:1,height:720,width:480,alignSelf:"center"},bgImage:{flex:1}}),je=function(e){var t=e.env;return 0===t.length||void 0===t?Object(B.jsx)(Q,{}):Object(B.jsx)(X,{temperature:t[0].envdata.temp,humidity:t[0].envdata.humidity})},he=function(){var e=Object(c.useState)(!1),t=o()(e,2),n=t[0],r=t[1],i=Object(c.useState)(0),u=o()(i,2),b=u[0],j=u[1],h=Object(c.useState)([]),f=o()(h,2),g=f[0],p=f[1],m=Object(c.useState)({labels:[-1],data:[0]}),O=o()(m,2),y=O[0],v=O[1],w=Object(c.useState)("http://envmon.local:8888/"),C=o()(w,2),k=C[0],R=C[1];return Object(c.useEffect)((function(){D(R)}),[]),Object(c.useEffect)((function(){setTimeout((function(){z(k).then((function(e){return p(e)}))}),2e3)}),[g]),Object(c.useEffect)((function(){p([])}),[k]),Object(c.useEffect)((function(){if(0!==g.length&&void 0!==g&&!isNaN(g[0].envdata.temp)&&!isNaN(g[0].envdata.humidity)){var e=-1===y.labels[0]?{labels:[],data:[]}:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},y);y.data.length>=5&&(e.data.shift(),e.labels.shift()),e.data.push(Number(0===b?g[0].envdata.temp:g[0].envdata.humidity)),e.labels.push(g[0].uptime.hours+":"+g[0].uptime.minutes+":"+g[0].uptime.seconds),v(e)}}),[g]),Object(c.useEffect)((function(){v({labels:[],data:[]})}),[b]),Object(B.jsx)(d.a,{source:de.a,style:be.bgImage,children:Object(B.jsxs)(s.a,{style:be.container,children:[Object(B.jsx)(l.a,{animated:!0,backgroundColor:x,hidden:!1}),Object(B.jsx)(N,{aboutButton:function(){return r(!0)}}),Object(B.jsx)(je,{env:g}),Object(B.jsx)(re,{chartData:y,chartType:b}),Object(B.jsx)(ie,{chartType:b,setChartType:j}),Object(B.jsx)(se,{URL:k,setURL:R}),Object(B.jsx)(J,{visible:n,setModalVisible:r,envBackend:void 0!==g[0]?g[0].backend:{name:"unknown",version:"unknown"}}),Object(B.jsx)(ee,{env:g})]})})};t.a=function(){return W()&&!A()?Object(B.jsx)(d.a,{source:de.a,style:be.bgImage,blurRadius:10,children:Object(B.jsx)(s.a,{style:be.webWrapper,children:Object(B.jsx)(he,{})})}):Object(B.jsx)(he,{})}},166:function(e,t,n){e.exports=n(217)}},[[166,1,2]]]);
//# sourceMappingURL=app.c6bb4e82.chunk.js.map