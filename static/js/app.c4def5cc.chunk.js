(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{107:function(e,t,n){e.exports=n.p+"static/media/background.6ca76324.jpg"},162:function(e,t,n){"use strict";var r=n(10),a=n.n(r),i=n(23),o=n.n(i),c=n(0),s=n(3),l=n(83),d=n(65),u=n(15),b=n(5),j=n(78),h=n(34),f=n(71),g=n(222),p=n(164),x="#113f67",m="#38598b",O="#a2a8d3",y="#e7eaf6",v="#5585b5",w="#53a8b6",C="#79c2d0",k="#bbe4e9",R=b.a.create({appContainer:{flex:1},webWrapper:{flex:1,height:720,width:480,alignSelf:"center"},bgImage:{flex:1},centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22},modalView:{margin:20,backgroundColor:y,borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},button:{borderRadius:20,padding:10,elevation:2},buttonOpen:{backgroundColor:C},buttonClose:{backgroundColor:w},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalText:{marginBottom:15,textAlign:"justify"}}),S=n(12),T=n(20),P=n(103),z=n.n(P),I=function(e,t){return void 0===t?z.a.get(e).then((function(e){return e.data})):z.a.get(e,{headers:t}).then((function(e){return e.data}))},L="0.9.5-beta.ngrok",D="https://github.com/furquan-lp/WebEnv",W=function(e){I("https://api.jsonbin.io/v3/b/6257c74280883c3054e15f27/latest",{"X-Master-Key":"$2b$10$pWNGBg9x/gcFna2bGzV2DO.97lv6XCoK35tPfs4e.HlgJAdpZ8aC."}).then((function(t){L=t.record.version,D=t.record.repositoryURL,e(t.record.backendURL)}))},A=function(){return"web"===S.a.OS},U=function(){return T.a.get("window").height>T.a.get("window").width},V=function(){return L},B=function(){return D},E=n(1),F=b.a.create({container:{height:48,alignSelf:"stretch",flexDirection:"row",backgroundColor:m,alignItems:"center",justifyContent:"space-between",paddingLeft:10,paddingRight:10},title:{flex:1,color:"white",marginLeft:15,fontSize:24,fontFamily:"Righteous_400Regular"}}),N=function(e){var t=e.onPress;return Object(E.jsx)(f.a.Button,{name:"info",backgroundColor:v,iconStyle:{marginLeft:5,marginRight:5},borderRadius:20,size:15,onPress:t})},G=function(e){var t=e.aboutButton,n=Object(g.a)({Righteous_400Regular:p.a});return o()(n,1)[0]?Object(E.jsxs)(s.a,{style:F.container,children:[Object(E.jsx)(h.a,{onPress:function(){return j.a.openURL(B())},children:Object(E.jsx)(f.a,{name:"thermometer",color:k,size:26})}),Object(E.jsx)(u.a,{style:F.title,children:"WebEnv"}),Object(E.jsx)(N,{onPress:t})]}):null},q=n(84),J=b.a.create({centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22},modalView:{margin:20,backgroundColor:y,borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},button:{borderRadius:20,padding:10,elevation:2},buttonOpen:{backgroundColor:C},buttonClose:{backgroundColor:w},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalTitle:{fontSize:A()?20:18,fontWeight:"bold",marginBottom:5},modalText:{fontSize:14,marginBottom:15,textAlign:"justify"}}),M=function(e){var t=e.visible,n=e.setModalVisible,r=e.envBackend;return Object(E.jsx)(s.a,{style:J.centeredView,children:Object(E.jsx)(q.a,{animationType:"slide",transparent:!0,visible:t,onRequestClose:function(){return n(!t)},children:Object(E.jsx)(s.a,{style:J.centeredView,children:Object(E.jsxs)(s.a,{style:J.modalView,children:[Object(E.jsxs)(u.a,{style:J.modalTitle,children:["WebEnv v",V()]}),Object(E.jsxs)(u.a,{style:J.modalText,children:["Running on ",r.name," version ",r.version," backend ","\n","Copyright (C) 2022 Syed Furquan Ahmad. All rights reserved. ","\n"]}),Object(E.jsx)(h.a,{style:[J.button,J.buttonClose],onPress:function(){return n(!t)},children:Object(E.jsx)(u.a,{style:J.textStyle,children:"Ok"})})]})})})})},$=n(108),H=b.a.create({cards:{flex:1,flexDirection:"row",padding:5,marginVertical:10},card:{flex:1,backgroundColor:"rgba(231, 234, 246, 0.5)",borderRadius:10,height:150,alignItems:"center",justifyContent:"center",margin:6,shadowColor:v,shadowOffset:{width:0,height:2},shadowOpacity:1,shadowRadius:4},wrapper:{flexDirection:"row"},unjustified:{justifyContent:"flex-start"},text:{color:x,fontSize:A()?44:34,fontWeight:"bold",margin:0,letterSpacing:1},subtitle:{color:m,fontSize:A()?36:30,alignSelf:"flex-end",margin:5,marginTop:0,letterSpacing:2}}),K=function(e){var t=e.temperature;return Object(E.jsxs)(s.a,{style:H.card,children:[Object(E.jsxs)(s.a,{style:H.wrapper,children:[Object(E.jsx)($.a,{name:"thermometer",color:v,size:A()?70:50}),Object(E.jsxs)(u.a,{style:H.text,children:[Number(t),"\xb0C"]})]}),Object(E.jsxs)(u.a,{style:H.subtitle,children:[(1.8*t+32).toFixed(2),"\xb0F"]})]})},X=function(e){var t=e.humidity;return Object(E.jsxs)(s.a,{style:[H.card,H.wrapper,H.unjustified],children:[Object(E.jsx)($.a,{name:"droplet",color:v,size:A()?55:50}),Object(E.jsxs)(u.a,{style:[H.text,{letterSpacing:4}],children:[t,"%"]})]})},_=function(e){var t=e.temperature,n=e.humidity;return Object(E.jsxs)(s.a,{style:H.cards,children:[Object(E.jsx)(K,{temperature:t}),Object(E.jsx)(X,{humidity:n})]})},Z=n(79),Q=b.a.create({container:{flex:1,justifyContent:"center",padding:10}}),Y=function(){return Object(E.jsx)(s.a,{style:Q.container,children:Object(E.jsx)(Z.a,{size:"large",color:w})})},ee=b.a.create({container:{flex:1,alignItems:"center",justifyContent:"space-between",flexDirection:"row",margin:5,marginTop:0},text:{color:y,fontSize:20,letterSpacing:3}}),te=function(e){var t=e.env;return 0===t.length||void 0===t?Object(E.jsx)(u.a,{style:[ee.container,ee.text],children:"Connecting..."}):Object(E.jsxs)(s.a,{style:ee.container,children:[Object(E.jsx)(u.a,{style:ee.text,children:"Conntected."}),Object(E.jsxs)(u.a,{style:ee.text,children:["Up ",t[0].uptime.hours,":",t[0].uptime.minutes,":",t[0].uptime.seconds]})]})},ne=n(161),re=function(e){return{labels:e.labels,datasets:[{data:e.data}]}},ae=function(e){var t=e.chartData,n=e.chartType;return Object(E.jsx)(s.a,{style:{marginTop:100,alignItems:"center"},children:Object(E.jsx)(ne.a,{data:re(t),width:A()&&!U()?470:T.a.get("window").width-10,height:220,yAxisSuffix:0==n?"\xb0C":"%",yAxisInterval:2,chartConfig:{backgroundColor:m,backgroundGradientFrom:m,backgroundGradientTo:v,backgroundGradientToOpacity:.5,decimalPlaces:1,color:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba(255, 255, 255, "+e+")"},labelColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba(255, 255, 255, "+e+")"},style:{borderRadius:16},propsForDots:{r:"6",strokeWidth:"2",stroke:m}},bezier:!0,style:{marginTop:40,marginBottom:0,borderRadius:16}})})},ie=b.a.create({container:{flexDirection:"row",padding:5,justifyContent:"center",marginBottom:10},buttonText:{color:"white",fontSize:25,fontWeight:"bold",textAlign:"center"},button:{flex:1,margin:2,padding:5,alignItems:"center",justifyContent:"center",borderRadius:5},nonPressed:{backgroundColor:w},pressed:{backgroundColor:k},active:{backgroundColor:O}}),oe=function(e){var t=e.chartType,n=e.setChartType,r=function(){n(1^t)};return Object(E.jsxs)(s.a,{style:ie.container,children:[Object(E.jsx)(h.a,{onPress:r,disabled:0===t,style:function(e){var n=e.pressed;return[ie.button,0===t?ie.pressed:ie.nonPressed,n?ie.active:null]},children:Object(E.jsx)(u.a,{style:ie.buttonText,children:"Temperature"})}),Object(E.jsx)(h.a,{onPress:r,disabled:0!==t,style:function(e){var n=e.pressed;return[ie.button,0!==t?ie.pressed:ie.nonPressed,n?ie.active:null]},children:Object(E.jsx)(u.a,{style:ie.buttonText,children:"Humidity"})})]})},ce=n(52),se=b.a.create({URLArea:{flex:1,flexDirection:"row",padding:6,height:40,marginVertical:5},URLInput:{flex:4,height:40,padding:5,borderRadius:4,borderWidth:1,borderColor:k,backgroundColor:"white",fontSize:20,fontFamily:"monospace"},button:{flex:1,height:40,alignItems:"center",justifyContent:"center",borderRadius:4,backgroundColor:w},active:{backgroundColor:O}}),le=function(e){var t=e.URL,n=e.setURL,r=Object(c.useState)(t),a=o()(r,2),i=a[0],l=a[1];return i!==t&&l(t),Object(E.jsxs)(s.a,{style:se.URLArea,children:[Object(E.jsx)(ce.a,{onChange:function(e){return l(e.target.value)},value:i,style:se.URLInput,onSubmitEditing:function(){return n(i)},editable:!1}),Object(E.jsx)(h.a,{onPress:function(){return n(i)},style:function(e){var t=e.pressed;return[se.button,t?se.active:null]},children:Object(E.jsx)(f.a,{name:"check",color:"white",iconStyle:{marginRight:5,marginLeft:5},size:26})})]})},de=n(107),ue=n.n(de);function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var je=function(e){var t=e.env;return 0===t.length||void 0===t?Object(E.jsx)(Y,{}):Object(E.jsx)(_,{temperature:t[0].envdata.temp,humidity:t[0].envdata.humidity})},he=function(){var e=Object(c.useState)(!1),t=o()(e,2),n=t[0],r=t[1],i=Object(c.useState)(0),u=o()(i,2),b=u[0],j=u[1],h=Object(c.useState)([]),f=o()(h,2),g=f[0],p=f[1],m=Object(c.useState)({labels:[-1],data:[0]}),O=o()(m,2),y=O[0],v=O[1],w=Object(c.useState)("http://envmon.local:8888/"),C=o()(w,2),k=C[0],S=C[1];return Object(c.useEffect)((function(){W(S)}),[]),Object(c.useEffect)((function(){setTimeout((function(){I(k).then((function(e){return p(e)}))}),2e3)}),[g]),Object(c.useEffect)((function(){p([])}),[k]),Object(c.useEffect)((function(){if(0!==g.length&&void 0!==g&&!isNaN(g[0].envdata.temp)&&!isNaN(g[0].envdata.humidity)){var e=-1===y.labels[0]?{labels:[],data:[]}:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},y);y.data.length>=5&&(e.data.shift(),e.labels.shift()),e.data.push(Number(0===b?g[0].envdata.temp:g[0].envdata.humidity)),e.labels.push(g[0].uptime.hours+":"+g[0].uptime.minutes+":"+g[0].uptime.seconds),v(e)}}),[g]),Object(c.useEffect)((function(){v({labels:[],data:[]})}),[b]),Object(E.jsx)(d.a,{source:ue.a,style:R.bgImage,children:Object(E.jsxs)(s.a,{style:R.appContainer,children:[Object(E.jsx)(l.a,{animated:!0,backgroundColor:x,hidden:!1}),Object(E.jsx)(G,{aboutButton:function(){return r(!0)}}),Object(E.jsx)(je,{env:g}),Object(E.jsx)(ae,{chartData:y,chartType:b}),Object(E.jsx)(oe,{chartType:b,setChartType:j}),Object(E.jsx)(le,{URL:k,setURL:S}),Object(E.jsx)(M,{visible:n,setModalVisible:r,envBackend:void 0!==g[0]?g[0].backend:{name:"unknown",version:"unknown"}}),Object(E.jsx)(te,{env:g})]})})};t.a=function(){return A()&&!U()?Object(E.jsx)(d.a,{source:ue.a,style:R.bgImage,blurRadius:10,children:Object(E.jsx)(s.a,{style:R.webWrapper,children:Object(E.jsx)(he,{})})}):Object(E.jsx)(he,{})}},166:function(e,t,n){e.exports=n(217)}},[[166,1,2]]]);
//# sourceMappingURL=app.c4def5cc.chunk.js.map